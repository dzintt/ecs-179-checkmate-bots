[gd_scene load_steps=5 format=3 uid="uid://36tyq720fald"]

[ext_resource type="PackedScene" path="res://scenes/main/board.tscn" id="1_board"]
[ext_resource type="Script" path="res://scripts/world_controller.gd" id="1_controller"]
[ext_resource type="Script" path="res://scripts/systems/placement_system.gd" id="2_placement"]
[ext_resource type="Script" path="res://scripts/systems/input_handler.gd" id="3_input"]

[node name="World" type="Node2D"]
script = ExtResource("1_controller")

[node name="Board" parent="." instance=ExtResource("1_board")]

[node name="TowerContainer" type="Node2D" parent="."]

[node name="EnemyContainer" type="Node2D" parent="."]

[node name="PlacementSystem" type="Node" parent="."]
script = ExtResource("2_placement")

[node name="PlacementPreview" type="Sprite2D" parent="PlacementSystem"]
modulate = Color(0, 1, 0, 0.5)
scale = Vector2(60, 60)

[node name="InputHandler" type="Node" parent="."]
script = ExtResource("3_input")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="DebugLabel" type="Label" parent="CanvasLayer"]
offset_left = 10.0
offset_top = 10.0
offset_right = 300.0
offset_bottom = 150.0
text = "Gold: 150
Press P to place Pawn tower
Press K to spawn test enemy
Right-click to cancel placement"
